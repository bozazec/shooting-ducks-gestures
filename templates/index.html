<!DOCTYPE html>
<html>
<head>
    <title>Shooting Ducks</title>
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Shooting Ducks</h1>
    <div class="main-content">
        <div class="container">
            <!-- Webcam video element (can be hidden) -->
            <video class="input_video" style="display: none;"></video>
            <!-- Canvas for drawing the game -->
            <canvas class="output_canvas" width="1280px" height="720px"></canvas>
            <div id="score">Score: 0</div>
            <div id="lives">❤️ ❤️ ❤️</div>
            <div id="game-over" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 72px; color: red; z-index: 30; display: none; background-color: rgba(0,0,0,0.7); padding: 20px; border-radius: 10px;">GAME OVER</div>
            <!-- Sound Toggle Button -->
            <button id="toggle-sound-button" style="position: absolute; top: 10px; right: 10px; z-index: 20; padding: 5px 10px;">Sound: ON</button>
            <!-- Reload Button -->
            <button id="reload-button" style="position: absolute; top: 10px; right: 110px; z-index: 20; padding: 5px 10px;">Reload</button>
        </div>
        <div class="instructions">
            <h2>How to Play</h2>
            <ul>
                <li>Allow webcam access when prompted.</li>
                <li>Point your **index finger** at the screen to aim (blue cursor).</li>
                <li>Bring your **thumb and index finger** close together (pinch) to shoot (red cursor).</li>
                <li>Press 'q' in the terminal running the server to quit (if using original script). For the web version, just close the browser tab.</li>
            </ul>
        </div>
    </div>

    <!-- Preload gunshot sound -->
    <audio id="gunshot-sound" src="{{ url_for('static', filename='assets/gunshot.mp3') }}" preload="auto"></audio>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html> 